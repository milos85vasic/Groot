apply plugin: "java"
apply plugin: "groovy"

dependencies {
    compile gradleApi()
    compile localGroovy()
}

apply plugin: "maven"

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    testCompile 'junit:junit:4.12'
}

group = 'net.milosvasic.gradle'
// version = '1.0.0'
// version = '1.0.0-Beta-3'
version = '1.0.0-Beta-3-SNAPSHOT'
// version = '1.0.0-Alpha-5'

File home = new File(System.getProperty("user.home"))
uploadArchives {
    repositories {
        mavenDeployer {
            pom.name = project.name
            pom.groupId = "net.milosvasic.groot"
            pom.version = "$version"
            pom.artifactId = project.name
            pom.packaging = "pom"
            repository(url: uri("${home.absolutePath}/Groot/Repository"))
        }
    }
}

assemble.finalizedBy(uploadArchives)

artifacts {
    jar
}